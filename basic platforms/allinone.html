<!DOCTYPE html>
<html><head><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<script>
  let organ=[{f:499.98,a:.05024,p:-79.26},{f:989.78,a:.01608,p:10.89},{f:1489.66,a:.02179,p:-13.22},{f:1989.55,a:.03411,p:-30.97},{f:2489.44,a:.01904,p:156.26},{f:2989.32,a:.03099,p:-54.57},{f:3469.21,a:.00796,p:-49.46},{f:3979.1,a:.01728,p:-129.91}],lengthOf8=8,time=0;window.AudioContext=window.AudioContext||window.webkitAudioContext;var context=new AudioContext;let buffers=[];var voices=[{notes:"UPNPQPNPIIUPNPQPNPNLNLNPNLNLKLKLNLNPNLPNLKLNLKLILKNLKIPLKIPLKINLKINKIGNKIGNKIGLKIGLIGFLIGFLIGFKIGFKGFGIGFGFDFGIKFGIFGIGFIGDGKGKPKPSPSUSRPRPOWRPOWSRPWSRPWOMKWNLKNPRKOP",durations:"**))*))*****))*))*))*))*))*))*))*))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))*))*))))))))))))))))))))))))))))))))))))))))))))))))))))))****.",nextTrigger:0,noteCounter:0},{notes:"=?@=@=B=B=@=B=@=?=@=@=B=B=@=@=?=?=<?:?<?8?=8=8?8?8@8=8?8<8=848148;:=6:/36:8;48.1487:378383737383,383837373838;8;?DC?C?D?8;=;=:;=?3DEDB@?",durations:"))))))))))))))))))))))))))))))))))))))))))))))))))))))))))****************************))))))))****))))))))************************))))))",nextTrigger:0,noteCounter:0}];function runBGM(){playVoice(1,organWaveAt,.25,10,.19,.5),playVoice(0,organWaveAt,.25,40+frame%3e3,.45,.3),playDrum(),time++}function playDrum(){let e,t=Math.random();if(checkTime(2)?e=chanceToPlay(t,1,7,2,1):checkTime(1)?e=chanceToPlay(t,.4,3,2,1):checkTime(.5)&&(e=chanceToPlay(t,.4,0,2,8)),null!=e){let t=e.base+Math.random()*e.vari;loadAndPlay(noiseAt,5,.45,e.vol,t,!0)}}function checkTime(e){return time%(lengthOf8*e)==0}function chanceToPlay(e,t,a,i,n){if(e<t){let t=a+i+n;return e<a/t?{base:20,vari:5,vol:.04}:e<(a+i)/t?{base:4e3,vari:1e3,vol:.04}:{base:1e4,vari:1e3,vol:.01}}}function playVoice(e,t,a,i,n,s){let c=voices[e];if(time===c.nextTrigger){let o=c.noteCounter,r=c.durations.charCodeAt(o)-40;loadAndPlay(t,i,r*n,s,Math.pow(2,(c.notes.charCodeAt(o)-64)/12)*a,!1),voices[e].nextTrigger=time+r*lengthOf8,voices[e].noteCounter++,c.noteCounter>=c.notes.length&&(voices[e].noteCounter=0)}}function loadAndPlay(e,t,a,i,n,s){let c,o=[];0!=t&&(c=t);let r=0,F=context.sampleRate*a;for(var l=0;l<F;l++){let a=l/F;if(a>.7?r=constrain(r-3e-4,0,i):a<.1&&(r=constrain(r+.005,0,i)),o[l]=e(l,n)*r,l>=c&&l+10<F&&0!=t&&s)for(let e=0;e<4;e++)o[l-c+2*e]-=o[Math.round(l-c+2*e+1)];else l>=c&&l+10<F&&0!=t&&(o[l-c]+=o[l])}playSound(o)}function loadSlidingSound(e,t,a,i,n,s){let c,o=[],r=context.sampleRate*a,F=0,l=.01*a;0!=t&&(c=t);for(var d=0;d<r;d++){let a=d/r,p=n+a*(s-n);a>.7?F=constrain(F-l,0,1):a<.1&&(F=constrain(F+l,0,i)),o[d]=e(d,p)*F,d>=c&&0!=t&&(o[d-c]+=o[d])}playSound(o)}function playSound(e){for(var t=new Float32Array(e.length),a=0;a<e.length;a++)t[a]=e[a];var i=context.createBuffer(1,t.length,context.sampleRate);i.copyToChannel(t,0);var n=context.createBufferSource();n.buffer=i,n.connect(context.destination),n.start(0)}function sineWaveAt(e,t){let a=context.sampleRate/t;return Math.sin(e/(a/(2*Math.PI)))}function noiseAt(e,t){context.sampleRate;let a=constrain(Math.pow(e,2)/15e6,.1,.9),i=constrain(6-t/4e3,0,2e4);return e%2==0?0:(4*Math.random()-2+i*roundedSineWaveAt(e,t))*(1-a)}function roundedSineWaveAt(e,t){let a=context.sampleRate/t;return Math.round(Math.sin(e/(a/(2*Math.PI))))}function organWaveAt(e,t){let a=e/context.sampleRate,i=0;for(let e=0;e<organ.length;e++)i+=organ[e].a*Math.cos(2*Math.PI*t*organ[e].f*a+organ[e].p);return i}function sfxOne(){monkeyCrySFX()}function monkeyCrySFX(){sfxSeq(5,2.2+.2*Math.random(),-.02,.08,-.01,50,0,organWaveAt,!1,.5)}function collideSFX(){sfxSeq(3,100,-30,.05,.09,5,10,roundedSineWaveAt,6,.1)}function thumpSFX(){sfxSeq(2,200,-100,.05,.09,5,10,roundedSineWaveAt,6,.1)}function jumpSFX(e,t,a){loadSlidingSound(organWaveAt,7,a,1,e,t)}function birdChirpSFX(){loadSlidingSound(sineWaveAt,100,.1,.1,1400+400*Math.random(),2650),chirping||setTimeout(function(){loadSlidingSound(sineWaveAt,100,.25,.06,1400+400*Math.random(),2700+800*Math.random())},150),chirping=!0}function sfxSeq(e,t,a,i,n,s,c,o,r,F){for(let l=0;l<e;l++){let e=t+a*l,d=i+n*l;setTimeout(function(){loadAndPlay(o,r,d,F,e,!1)},l*(s+l*c))}}function sfxTwo(){}function sfxThree(){}function sfxFour(){}function diStringLoop(e,t,a,i,n,s){let c=Math.floor(frame/6%e.length);diImage(e[c].a,e[c].c,t,a,i,n,s)}function diImage(e,t,a,i,n,s,c){ctx=canvas.context;for(let o=0;o<e.length;o++)if(0!=t[e[o]]){if(o>trace)return void(trace=o);ctx.beginPath(),ctx.fillStyle=t[e[o]];let r=0;-1===c&&(r=n*s),ctx.fillRect(a+r+c*(o%n)*s,i+Math.floor(o/n)*s,c*(s+.5),s+.5),ctx.closePath()}}let c=["#000000","#ffd738","#d1ff3a","#327fa8","#6d92a6","#c37dc9","#c3f7f7","#9397bd","#c3dbf7","#dbc3f7","#fffb80","#1F29C1","#FF6638","#EAFF30","#FFFFFF","#EA1F1C","#8E423A","#FF6232","#8E7F7D","#D36A55","#f7d92a","#FFAB3D","#FF923F","#303030"],walkLoop=[{s:"11111111121/6<G1)3)3BF03=2<2DF/PE@G-SGE=G,PZQG=FE=+FRGdGBF>F*SHdG2?H?F)RIeF2@G@F*IfF2@FB-gF2?FC+FhF2?FC*FhH2>FC)Fh(H2=F@F<F)GeG+F2=Fe@F)H.F2=Fe?F*G.eF2=FA*H-f2=F)>F+G-e(F2=*I1H)I*H1H*H+G)",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"11111111.311(3=2G1.2BF1)5DG.P4E?F,ZRGE?F+PdQGnDF?F*FRGnFAH?F)SHnG@G@F)RHpF2?FBF*JoF2?GAF-FoG2@FAF-pG2@FB,FoF(G2?Fo?F,FoF)F2>Go?F,Fo*F2>FoF>F,Fo+F2=FoG>F,Fo,F2<oF(F=F,Gn-F2<oF(F=F,H-HnF)=F-H,InF)G1,HnF)H,",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"11111111111(61/3@F1+4CG0P3E>G-RGE?,PZQGE?F+FRGdE>F*SHdE?F)RHe2BF@F+HeF2AG@F-FeF2@GBF,FeF2?GeAF,f2?GfF@F+FeF2>GfG?F,FeF2>GfF?F-fF2=)f(F>F-FeG=*FeF?-HdF2=*FeF>.G)F=F*GdG<0G(I+J1)H,Id.",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"11111111.4113>2F1.2BF1)3(2DG/3=2E=F-PEFBF+SFEAF*PZQGCFAF*FRGCFAG(SJBFAF(RKAFe@F*I(G@Ff@F/F@FfAF.F@GeAG-F?K@G-F?G)G@G-G>Fd*F@dF.F=Ge)F>Hd.G<F(f)F<HeF.H)Fe(I(FeG.G)H(H*I1)H1+",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"11111111111(7<1-3L=1*2OF<.3F(2OH<,PON+S=H<OF<*PZQ>F<2OF<*<Q?d<2OG)S@2OH<(RA2L<J<*?d<2K=K<.=2I=L=.<2I=d<L<-<2H>d=L<,<2H=(f=J<*>3F=e)e<I=*=H?d+d<I,=F=*=+d<G<1+>+=F<1+>*>d=1/>)=,",c:[!1,c[15],c[16],c[17],c[18],c[0],c[19]]},{s:"11111111-5103?21.2B3F1*3EF/4GE>-PECF+SG=FE<F+PZQG=F2E<F*FQH<F2E=F)SJ2E=G(RH(F2AFBF*H(G2@HAF-G2@GCF-F2>F<FgF@F,G2=IgAF,F2<I(g(AF,F2I)f)@F,Jd*eF)?F,If*Fe)?-HdG+Fe*>-G(G+Ge*F=F,G(G+H,H*",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"11111111111*2>103I<1)3*2L<03G2(2O.PJ2OF<,S=M<J<+PZQ=G<J=J<*<QA2J<J=(SA2J<J=(RA2K=J<)@)<2K<K<*>)=2J<L<.=2I<F<L<-<d<2I=dK<-f<2H<fJ<-<f<2G<g<I<,<f<2F=f(>I<*=e(<2=f+=I*>)?e-=I)>)=(>0?(=*=(=1(>",c:[!1,c[15],c[16],c[17],c[18],c[0],c[19]]}],jL=[{s:"-4112@51*F2E5F/GTCH-F<FU=G@G,F<FPZPZQ>2M+F<GPFQ@8F+F<FTE=2F*F<dSE?2F)F<eHE@2)FeF(F@FE2)FdF)e?dFDF(H*f?dI?F)H*Fe@gF=F+G*FeDF=F1eCFeF.H(FdAGeFd-FeGe@HeF.Fj@GdF<I)GjAG?dF(HeGfF<GBFdF)H*H)GA)G1,F?F)G1-I111(",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"111(4112@41+F2D31)GT@F4F.F<FUDF-F<FPZPZQEF,F<GPFQE=F+F<FTE>F*FeS?FDF*FfH@FCF)GeG(FAI?F)I*FDH=F*G+FE<F>*F,FdE<F=0FeDF<G/GgBH/GgGAH.FiG@H.FgJ@F/GeG,F@F.FeF/F@F-FdF1G>G,H1)K,G1-G)",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]},{s:"111)4112?2,3G/F2A*3F<3F.2FT=3F@2G+F<FUE3+2<FPZPZQE<2F)G<GPFQE>F)G<FTE>F(GfSBI>F(Ff(IAK>Gd*FCG=J<F,FBG?I=,FdE>F(H,FeE=F)G,Ff>FAF0GhGAF0FfH(F@F1FeG*F?F1FgF*F?F1FgF*F?1)FfF*F>F1*FeF+H1,H+H1-G+G1",c:[!1,c[15],c[17],c[16],c[18],c[0],c[19]]}],sleepLoop=[{s:"111111111111111111.61/<2=H31,>L31*<OF21(=O40=OI2/=L<KP2-=M2F2PHP2-=H<K2PHP2,<J2PG2G2<HP2)G3F<G3<G2PF2<HP2(3[4H2<H2G2<GP2<_3H2<G2PG2PF2(<[2ZdZ3I2<G2G2<G2<_3F3G2<F2PF3FP2(F3Z4F4G3G3P2FP4SGQ2P3<PFP2S4M3PIP5P3(",c:[!1,c[16],c[15],c[17],c[19],c[18],c[0]]},{s:"1111111111111111)61/<2=H31,=M31*<OF21(<OF40=OI2/=OIP2-=M<KP2,>M2GPHP2+=H2F<H2G2PHP2+<J2QG2G2IP2)G3F<G3<H2F2<HP2(3[4H2<H2F2=G2(<_3H2<H2F3PF2(<[2ZdZ3I2<G2G2<G2<_3F3G2<G2F3FP2(F3Z4F5F3G3P2FP4SGQ2Q2<PFP2S4M3PIP5P3(",c:[!1,c[16],c[15],c[17],c[19],c[18],c[0]]},{s:"1111111111111.511>G31.<2K31+=N31(=OG21<OF2G2/=OI2.=OJP2,=N<KP2,<G3K2GPHP2+=H2P<J2QHP2+2J2QG4PIP2)F4F<G3<H2F2<HP2(3[4H2<H2P2=G2(<_3H2<H2F3PF2(<[2ZdZ3I2<G2PF2<G2<_3F3G2<GPF3FP2(F3Z4F8GP2P2FP2(2SGQ2R<PFP2S4M3PIP5P3(",c:[!1,c[16],c[15],c[17],c[19],c[18],c[0]]}],sL=[{s:"11111111111)4>1(3+3H3>.3F4(M3=-QI2OF<,SOK<+PZQ=e<OF<+<Q>d=L<I<)S>e<J>I<)R?e<2J=I<+>)e<2J<J<0e<3H<dK</e<3H<dK</e=2G=eJ<.f<2G=fI=.e<4=f(J<-f<3<(g)H=,f=2<)g(<H<-=(>*<f(<H<-=(=+<f(<G=-A)?)<F=/=(=)>)@*",c:[!1,c[15],c[16],c[17],c[18],c[0],c[19]]},{s:"11111111111*3=103I=13+2M<.3G4(2N<-POM<+S=OI<+PZQ=e<J<K<*<Q>fK<J<)S>e<2O=)R?f2J<I<,>)<e2J<J<0<e<2H<dJ</<f<2GgI</<e<2G<gI<.<e<2G<hJ<-f<2F<(g(I<-<e(<2F<(g)H<,=e(<2<)=e)H<,>)>*>)F=.=)?(?(?.=*>(>)>+",c:[!1,c[15],c[16],c[17],c[18],c[0],c[19]]},{s:"11111111111*5=1/2J2<1,3L2</3*2O2<-2H3OH<+PON<*SOF<F<I<)PZQ=dL<F<dI<)<Q>e<L<dI<(S>f<K<dG<F<(R?g<2H<fG<+>)<f<2H<fH/<e=3G<gH.<f4G<f(dH<,<f<2H<g(dH<,<e<3F<(h)H,<f(<3*g(<H,<e<(=+<f(I<*=d*>*<e<(<G<+>+=)>d)=F<,=/?)?)",c:[!1,c[15],c[16],c[17],c[18],c[0],c[19]]}],emptyLoop=[{s:"",c:[!1,c[1]]}],tigerJumpLoop=[{s:"1111111111111111111111111111111111)2<211(3<5<-F*F-2=3<2<3<,2<F<3*2<4<2<5<,G<G<3<3<3<4<2<2+FPGPF2<2<:<4<(2(PZGZP2<3<2<2P<2<4<4<(K5<2<P<P2<3<2P(2)F<d<G<3<2P<R<3<2P-R(<3<Q<P)<F<4P/F3<2P2+HP<3=,F2=2<P-<F=)4P<2F<4Q/<FP+=4F<3<1G=P*4(G31)I<F,",c:[!1,c[21],c[23],c[22],c[14],c[0],c[15]]},{s:"1111111111111111111111111111111-211*2=3/F*F.2<4<2<.2H2F+2<3<6<-K<3<3<3<2<2=,FPGPG=2=2<3<4<3)2(PZGZPF5<3<9=)L<5Q<2<5<(2*F<d<G<4P<Q<3=2P.R(F3<P<Q<QF<3<1<3=(Q<*=3Q.GP3P/GP=2Q<*<F<3<1=P(4<P(G4Q1G=P=3F<Q2=1)K<(G(3<1.H(",c:[!1,c[21],c[23],c[22],c[14],c[0],c[15]]},{s:"1111111111111111111111111111111+2<20F*F/@2/<H<.3<3<3-L2*>2=2>-FPGPG3=2@2=2<*<(PZGZP=2>2=2?2<)2<(K?2<2=2<2<2=2=)F2d2G?2?2<2<2>2+RF=2=2<P2P=2>2/FP<3<2Q2R2=P2P.2F2<2Q)2Q2(F=2P*<+F2<Q0F2>2P2<2)FP=P1(G=2<2<)2F2<31)3@)G2=P1*H2+H3=10",c:[!1,c[23],c[21],c[22],c[14],c[0],c[15]]}],tigerWalkLoop=[{s:"11111111111111111111111111111111111*2+20=F</<F2F2<.<G=F<.3F3=*<F?F<F=F+2P3P3<F<F=F<FC(F(2Z3ZP2<F?F=F<F<F<(F=(F6F=F<F?F<F<F2,2FdF2F3>F<FQF>F2P,R(3Q<F=FQFP<FP2Q.3SF<FQFQ<F(3F-3FP)F<P)FP(<FP)2P,2FP*=F-<Q)G+2Q+F<P-<G)2Q)2G,=FP,<Q(3F*3.?*>F(4)",c:[!1,c[22],c[21],c[23],c[14],c[0],c[15]]},{s:"11111111111111111111111111111111-2+211(<F2F2<.<F=13F3=+<F=F=/2P3P3<F<G=F=F<F=,2Z3ZP2<F@F=F=F<F+7F=F=F>F?(=(<(2FdF2F2=F=F<F>F=2(F<*R(3<F?PF<F<F<2P13F=F<QFPF<FP3F/3FPF<FQFPFP<FP(3P-3Q(P=F(Q)F=F(G-2FP)G<.<G3F,3P*P=.=P3-3F)2F<0<F2/3)>0=,",c:[!1,c[22],c[21],c[23],c[14],c[0],c[15]]},{s:"11111111111111111111111111111111111*2*2/<G<F0F<2<G+F<G<G<F/3<3F<F<H<G<F<F<F,2P3P2F<G<G<G<I<F)F(PZ3ZPI<L<G(F+7F<K<H<F<(<)F(2<d<2<F<F<F<FP<PF<F<F)F<*R(3F<G<Q<P<H213P<G<Q<)PGP2<02=(<G-F=2<03P<G/G<P02=PG/2G<12PG/3G<F0H2.3=H*",c:[!1,c[22],c[23],c[21],c[14],c[0],c[15]]},{s:"1111111111111111111111111111111111*2<11*2<3<.F+F-<2<3<3<-2<G<2*2<5<3<2<2,G=G<2<3<2<2<3<4+GPGPG<2<2<2<5<3<+FPZGZP4<5<3<3<3*K2<3<2P<2<7(<2<)F<d<2<3<2P<Q<2<2=*2+RF4Q<Q<(2<2P1(F3=.<3<1(3<PG,G<3P02=FP=F+=P=2P<-3P*J*GP3<2P+2=,=G*F<G(4)",c:[!1,c[21],c[23],c[22],c[14],c[0],c[15]]},{s:"1111111111111111111111111111111.211*3<2<116<3-F*F,3=2<4<2<,2<F<2(<2(2<4<2<5<,G<G<2<4<6<2<4*GPGPF2<2<3<3<2<2<4*FPZGZP<4<2<Q<2<4<2*L2<3<R<P5<(2<*F<d<F<2<2<Q<)P=2<*3*R(<4<P<*<3P1)<2<P<-FP<2<1(3PF-F=4P02=P<-GP(=Q.3P(G-<F<)3P-3<)=F,H)=2*",c:[!1,c[21],c[23],c[22],c[14],c[0],c[15]]},{s:"11111111111111111111111111111111112<2<21/<3<5<2-F+F*2<3<3<4<2,2<G<2F<4<3<3<3<2,G=G3<3<4<4<3<+FPGPF<3<3<3<4<3<2*PZGZP2<2<3<2<4<3<3(2(K2<4<Q<P2<3<2(<2<(F<d<F=4R<P(<3P<P-R)2<2<P<P*3P=1(3<P.=Q1)=PF.2=P1(3Q</4<1>P0FP=2/F4F0F<(3+",c:[!1,c[21],c[23],c[22],c[14],c[0],c[15]]},{s:"1111111111111111111111111111111111)2=2113=2=2-F*F,<2=3=2<2-<G2<*3=2=2=2<2,G3G<2>2=2?2>+FPGPG<2<2>2=2=2<2<(<(PZGZPF<2=2<Q<3<2=2<2<(K2<2=2S2>2<)<)F2d2F2@2P3P=2>-R)<2=2Q2)4P<P1(2=P-=PF312F=2-=2FP1GP2=P,<PF31F3(<3,<3GP/2FP)>P,=PF2+",c:[!1,c[23],c[21],c[22],c[14],c[0],c[15]]}],bSL=[{s:"+61,71*4<41*F71)H61(H90G*8.G+2Q3Q2-F+P6R21P2R2S20P6T2.Q3Q2U.Q7U,S2R4T+S9S*T(9Q*S+;*P.F90F(F)F61F*G,",c:[!1,c[11],c[14],c[12],c[13]]},{s:"11+61,71*<3F41*<71)>80?9/=*7Q-=+2Q3S,<+P6T0P2R2U/P7U2,Q3R3U,R8T+S3R3T*T(9Q2)T*;2)Q-;1<)<61=)<*2)",c:[!1,c[11],c[12],c[14],c[13]]},{s:"1111+61,71*4<41*F71)H8P/H9Q-H*7R,F,2Q3T16U/P2R3U-Q8U,R3Q4T+S9S+S4R4R*S*9P3*Q,;1F(2F2(31)F(G-",c:[!1,c[11],c[14],c[12],c[13]]}],bFL=[{s:"11051,71*91)3<4<2.G+4P4(H)J2(3R2(I(HZH4R2HZJ[G5Q2G[K[F5Q2F[L([5Q2[(H(H)Z6P2Z)H(H*6P2*H(H*8*G*G*7+G*F+7+F/5P21+Q)P1+Q*P1*Q*P1",c:[!1,c[11],c[14],c[13],c[12],c[20]]},{s:"1111051,71=(3F6.?)6F2(=*A(4P4?(B4Q3(E[4R(E<[5Q>ZA]5Q>ZA)[6P=([?*[6P<*Z?+8<+Z.81*2P51,P51,P)P1,P*P1+Q*P0",c:[!1,c[11],c[13],c[14],c[12],c[20]]},{s:"11111106*=)=,8(D*2F4F2E<)4P4@ZA(4P3@[?[4Q3?]?5R=[<[([>5R=[(Z*[>5Q<[.[=5Q<Z1(7P<1*71+61,P51+Q*P1+P+P1,P)Q/",c:[!1,c[11],c[13],c[14],c[12],c[20]]},{s:"11)21*2+31*3*4,>+4(6*@*;(B(6F6(=P=P<6H5(?Z=5F)F5(>[<F4G)G4F>[<F3G+G3F?[F3F-G2@ZFZG/GAZFZ1BZF1(B21*B1+[>1+[*Z1*[*[1.Z1",c:[!1,c[13],c[11],c[20],c[14],c[12]]}],groundImg={s:"(2(2(6=3<",c:[!1,c[1],c[2]]},babyWalkLoop=[{s:".41(603<2<303<31(4/:,;3)3)7)3(2+6*2-6)2-604(3/4)3.3,31*3+",c:[!1,c[1],c[0]]},{s:"-41)513<2<204<315(2.:,9(3*3(7)3)2)7*2(2+51(513(313)3/3*3/2,2+",c:[!1,c[1],c[0]]},{s:"-41(613<2<204<3150;+9(4*2(7*2*2(7-2*5.2*51(2(313)303*3/2-2)",c:[!1,c[1],c[0]]},{s:"-41(613<2<204<315)3,:(2*9.9.2(7.2)502(51(2)312*4.3,3-3/",c:[!1,c[1],c[0]]}],babyCarriedLoop=[{s:"11111)41(603<2<303<31(4/2(8(2*3(;)3(81511110",c:[!1,c[1],c[0]]},{s:"111111.41(603<2<303<3.2(8(2*3(;)2)8)2.511110",c:[!1,c[1],c[0]]},{s:"11111111(603<2<303<3-3(7-3(;)2)8(3.511110",c:[!1,c[1],c[0]]}],bgI={s:"111031/311+5111,<1+51+71(<+;+51-311+31(3(9)5*<(<(<-71,210<11160=(=(=(=1111+<1111.<(<(<.G1111.I11/G.<-M1F1*J-<+OG.G1(N.OK(F(I0OH*OHXH/SNXJSLQG-RGRISLUOGR+RKTOOOGTOOOOOOOOOJ",c:[c[8],c[9],c[10],c[6],c[7]],w:50},trees=[{s:"1111+21110411/4.2(311*512)303/4(3-7);/3(419(513(3105);2(511(3.4)81.4*7+3+4+4-4(3(3/31*4*4*2)2)91,7)5)2)2107*4(4(2)2/31+6*2(2(2)2.411)2(3)3,511*2)2)3+511+3(3(4(3(511+2)3)4)2)6113,3)311/2(2+3(2104.2(2(3)411(4,2(2(3*211*6)2(2(4)311*4(4(2(4(2(211(4(3)2(2(2)3(21/4,5(2(2)3(3+5103(2)2(4(2(511*2(2)4(2(:112(3)3(2(5+3103(2)3(611.2(2)3)2(211/2/2(311.2(2(2(2)2)211.2(2(2(2)2)211-3(2(2(2*2(211,3(3(2(3)2(211+3(3)2)2)2(311)3)2)3)2)3(3113)3)2*3)2)3/",c:[!1,c[4]],w:40},{s:"11)311-4131+51(513(21+6-3(21.:)31,7)3)31+3,2)2)311*2)411+2)3-21/2(4,31/2(4,2102(4+2112(6)2112(;31-2(2(211,2(2(21-8*3(210:(310:(21.3+6(21-3.4(211,611,2(411,2)411*2(2(2(211*2(2(411*2(2(411)5(2(211(3(2+31",c:[!1,c[4]],w:30},{s:"11112.3)21,2(2/51,4)2(3(5+21*2(3*5+31*4+5)41+3,2(7/3+2-2)51(3*2,3(5(6/3(2*4(4)21(;)4*215.2(41.8(2(311+71-2/2)3*21)5,2(3+41*;+615*3(2*7/4,4(611(2(2(511)2(2(411*2(2(311*3(2(211+2)2(211+2(3(211+4)211*2(2(2(211)3(2(2(211)2(2)2(3113(2)2)21)",c:[!1,c[4]],w:30}],letters=["(5(2)2(2)8*3*2","(4(2*6(2*3*6(","(4(2*3+2+2*2(4(","(3)2)2(2*3*3*2(4(","(4(2+2+4)2+6","(6+2+4)2+2+","(4(2*3+2)4*2(4(","+3*3*8*3*2","(4*2+2+2+2*4(","(5+2+3*2(2(2*2)","(2)2(2)2(2(2(2(2)2)2(2*2","(2*2+2+2+2,5","(2)4(4(2(3(2(3*3*2","(2)4)3(2(3(2(3)4*2","(4(2*3*3*3*2(4(","(4(2*3*6(2+2+","(4(2*3*3*3)2)3(2","(4(2*3*6(2(2)2)3","(4(2,4,2+2(4(","(6(2+2+2+2+2)","+3*3*3*3*2(4(","+3*2(2(2)2(2*2+2)","+3*3(2(3(2(4(4*2","+3*2(2(2*2*2(2(2*2","(2)2(2)2)3*2)3*2+","(5+2)3)2*2+6",")2+2+2+202)","11.2)","11)2,2(",")3)2)3*3*3*3)2(",")2*3+2+2+2*4(","(4(2*2+2*2*2*2*","(4(2*2*2*2(3*2(4(",")2*2+2(2(2)2(5+2(","+2(6*6)4(2*2","(4(2*3+2(3(3)2(2)2","(5+2+2*2*2+2)",")3)2)3*2(4(2*3)2(",")3)2)3*2(5+2*2("];function unpackImage(e){let t=[];for(let a=0;a<e.length;a++)t.push({type:Math.floor((e.charCodeAt(a)-40)/10),add:e.charCodeAt(a)%10});let a=[];for(let e=0;e<t.length;e++){a.push(t[e].type);for(let i=0;i<t[e].add;i++)a.push(t[e].type)}return a}function unpackImgLoop(e){for(let t=0;t<e.length;t++)e[t].a=[],e[t].a=unpackImage(e[t].s)}function unpackAll(){unpackImgLoop(walkLoop),unpackImgLoop(jL),jL.push(jL[1]),unpackImgLoop(sL),sL.push(sL[1]),unpackImgLoop(sleepLoop),sleepLoop.push(sleepLoop[1]),unpackImgLoop(bSL),bSL.push(bSL[1]),unpackImgLoop(tigerWalkLoop),unpackImgLoop(tigerJumpLoop),tigerJumpLoop.push(tigerJumpLoop[1]),unpackImgLoop(bFL),bFL.push(bFL[2]),bFL.push(bFL[1]),unpackImgLoop(babyWalkLoop),babyWalkLoop.push(babyWalkLoop[2]),babyWalkLoop.push(babyWalkLoop[1]),unpackImgLoop(babyCarriedLoop),babyCarriedLoop.push(babyCarriedLoop[1]),groundImg.a=unpackImage(groundImg.s),unpackImgLoop(trees),bgI.a=unpackImage(bgI.s);for(let e=0;e<letters.length;e++)alphabet[e]={s:letters[e],c:[!1,c[1]],w:5};unpackImgLoop(alphabet)}function diText(e,t,a,i,n,s,c){let o=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r>=97&&r<=122?o=r-97:r>=48&&r<=57?o=r-48+29:46===r?o=27:44===r?o=28:33===r?o=26:32===r&&(o=-1);let F=t+i*(s+5),l=a;c&&(l=a+10*Math.sin(i/e.length+frame/30)),-1!=o&&diImage(alphabet[o].a,[!1,n],F,l,5,s/5,1)}}var frameRate=30;let sdf=100*frameRate;var pl,bgm,yShift=0,frame=0;let phase,gameLoop,startPos,ground=[],cH=570,cW=window.innerWidth,levelRange=0,currentLevel={},cuP=0,clickA={x:0,y:0,w:200,h:50},cSc="start",introSeq=0,introTxt=["they call you mama ape.","your three kiddos that is.","mama ape likes her naps. ","three times a day.","nothing less. "," ","your three rascals invevitably run off","everytime you take a snooze.","once you wake,","you cannot sleep again","until they are back home."," ","those baby apes","are helpless on their own","so you will have to haul them ","on your back."," ","in short","by sundown, everyone must be back home","and you must have thrice napped"," ","click to wake up!"],currentText=introTxt,trace=0,traceSpeed=.1,bab=[],bd=[],baddieLocations=[],bdOnScreen=0,baR=0,inputLeft=!1,inputRight=!1,stopSpeed=.4,chirping=!1,level=0,naps=0,timeLeft=0,alphabet=[],particles=[],gameOver=!1;var canvas={canvas:document.createElement("canvas"),start:function(){this.canvas.width=cW,this.canvas.height=cH,this.context=this.canvas.getContext("2d"),document.body.insertBefore(this.canvas,document.body.childNodes[0])},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}};function preload(){unpackAll(),canvas.start(),clickA.x=cW/2-clickA.w/2,clickA.y=cH/2+50,gameLoop=setInterval(function(){diStartScreen(),trace+=traceSpeed,frame++},1e3/frameRate)}function diStartScreen(){let e=frame%100*2.5,t=165+60*Math.sin(frame/100);diText("ape naps",cW/2-150,cH/2-50,0,"rgb("+e+","+t+",50)",35,!0),diText("click to",clickA.x,clickA.y,0,"black",20,!1),diText("start",clickA.x+40,clickA.y+25,0,"black",20,!1),ctx.beginPath(),ctx.strokeStyle="black",ctx.rect(clickA.x,clickA.y,clickA.w,clickA.h),ctx.stroke(),ctx.closePath()}function startGame(){clearInterval(gameLoop),gameLoop=setInterval(updateGameArea,1e3/frameRate),console.log("game started"),cSc="wakepl",frame=0,trace=0,setupLevel(currentLevel=level1),sTS(),setTimeout(function(){cSc="wakepl"},1e3*(currentText.length-1))}function sTS(){for(let e=0;e<currentText.length;e++)setTimeout(function(){introSeq<currentText.length&&introSeq++},1e3*e)}function updateGameArea(){if(canvas.clear(),pl.slp||gameOver)if(gameOver)diText("game over. click to start again ",cW/4,cH/2,0,"black",25,!0);else{tP(flRand(-50,cW/2+200),flRand(50,cH-200),[{r:225,g:200,b:10},{r:225,g:20,b:10},{r:25,g:200,b:10},{r:25,g:20,b:210}]);for(let e=0;e<introSeq;e++)diText(currentText[e],50,50+20*e,400,"red",10,!0);introSeq<currentText.length&&diText("click to skip",cW-160,cH-30,0,"black",5,!1),updateAll(particles),pl.update()}else cSc="game",timeLeft=Math.floor((sdf-frame)/frameRate),chirping=!1,diBackground(),updateAll(particles),diGround(),diAll(ground),diReturnPoint(),pl.update(),updateAll(bd),updateAll(bab),diText(timeLeft.toString(),cW-100,cH-100,0,"white",25,!1),continueLevel();runBGM(),trace+=traceSpeed,frame++}function diReturnPoint(){ctx.beginPath(),ctx.fillStyle="#FF6600",ctx.fillRect(cW/2-(pl.x-startPos.x),startPos.y-yShift-80,80,80),ctx.stroke(),ctx.closePath()}function posOnScreen(e){return{x:cW/2-(pl.x-e.x),y:e.y-yShift}}function inRange(e,t,a){return e<t+a&&e>t-a}function inSegment(e,t,a,i){return e+t/2-8>a&&e-t/2+8<a+i}function inBox(e,t,a,i,n,s){return e>=a&&e<=a+n&&t>=i&&t<=i+s}function collideRectRect(e,t,a,i,n,s,c,o){return e+a>=n&&e<=n+c&&t+i>=s&&t<=s+o}function diAll(e){for(let t=0;t<e.length;t++)e[t].di()}function updateAll(e){for(let t=0;t<e.length;t++)e[t].update()}function constrain(e,t,a){return Math.min(Math.max(e,t),a)}function updateAngle(e,t,a,i,n,s){return constrain(e+s*Math.sin(frame/t)*a,i,n)}function addLine(e,t,a,i){ctx.moveTo(e,t),ctx.lineTo(a,i)}function distToGround(e,t,a){let i=cH;for(let n=0;n<ground.length;n++)inSegment(e,a,ground[n].x,ground[n].w)&&ground[n].y>t&&ground[n].y<i&&(i=ground[n].y);return i-t}function getXYOnPlat(e,t){let a,i;return-1===e.p?(a=e.x,i=cH):(a=t[e.p].x+e.x,i=cH-t[e.p].y-10),{x:a,y:i}}function keyReleased(){console.log("key release "+event.keyCode),65===event.keyCode?inputLeft=!1:68===event.keyCode&&(inputRight=!1)}function keyPressed(){switch(console.log("key pressed! code: "+event.keyCode),event.keyCode){case 97:moveX(-1),console.log("left");break;case 100:moveX(1);break;case 32:pl.slp||pl.startJump(pl);break;case 49:sfxOne();break;case 50:sfxTwo();break;case 51:sfxThree();break;case 52:sfxFour()}}function mousePressed(){console.log(event.clientX),"start"===cSc?inBox(event.clientX,event.clientY,clickA.x,clickA.y,clickA.w,clickA.h)&&startGame():"gameover"===cSc?(console.log("ey"),console.log(currentLevel),Object.assign(currentLevel,level1),console.log(currentLevel),currentText=introTxt,level=0,cSc="wakepl",introSeq=0,naps=0,cuP=0,pl.slp=!1,gameOver=!1,trace=0,setupLevel(currentLevel)):"wakepl"===cSc&&(console.log("yo"),pl.slp&&0===naps&&(frame=0),introSeq<currentText.length?introSeq=currentText.length:(pl.slp=!1,trace=0))}function tP(e,t,a){let i=4+Math.floor(5*Math.random());for(let n=0;n<i;n++){let i=flRand(0,a.length);particles.push(new Particle(e,t,particles.length,a[i]))}}class Particle{constructor(e,t,a,i){this.x=e-pl.w/2,this.y=t-pl.h/2,this.speed=flRand(2,4),this.dir=2*Math.random()*Math.PI,this.vel={x:this.speed*Math.cos(this.dir),y:this.speed*Math.sin(this.dir)},this.opa=.8,this.r=i.r,this.g=i.g,this.b=i.b}update(){this.x+=this.vel.x,this.y+=this.vel.y,this.opa-=this.speed/150,ctx=canvas.context,ctx.beginPath(),ctx.globalAlpha=this.opa,ctx.fillStyle="rgb("+this.r+","+this.g+","+this.b+")";let e=cW/2-(pl.x-this.x),t=this.y-yShift;ctx.fillRect(e,t,5,5),ctx.stroke(),ctx.globalAlpha=1,ctx.closePath(),this.opa<=0&&killParticle(this.index)}}function flRand(e,t){return Math.floor(e+Math.random()*(t-e))}function killParticle(e){particles.splice(e,1)}function newBaby(e,t){bab.push(new movingObject(e,t,20,20,diBaby,updateBaby,bab.length)),bab[bab.length-1].isE=!0,bab[bab.length-1].isCarried=!1,bab[bab.length-1].gble=!0}function updateBaby(){this.isCarried?(this.x=pl.x+20+pl.dir*this.index*10,this.y=pl.y-55+5*this.index,collideRectRect(cW/2-(pl.x-startPos.x),startPos.y-yShift,startPos.w,startPos.h,cW/2,pl.y-yShift,pl.w,pl.h)&&pl.babCarried>0&&(pl.babCarried--,this.isCarried=!1,this.gble=!1,this.returned=!0,this.isE=!1,this.x=startPos.x+startPos.w/2-15*this.index,this.y=startPos.y-20,baR++)):(this.isE?this.sX=constrain(this.sX+-1+2*Math.random(),-2,2):this.sX=0,collideRectRect(cW/2-(pl.x-this.x),this.y-yShift-this.h,this.w,this.h,cW/2,pl.y-yShift-pl.h,pl.w,pl.h)&&!pl.knb&&this.gble&&pl.babCarried<2&&(this.isCarried||monkeyCrySFX(),this.isCarried=!0,pl.babCarried++))}function diBaby(){ctx=canvas.context,ctx.translate(0,-10);let e=cW/2-(pl.x-this.x),t=this.y-yShift-this.h;this.isCarried?diStringLoop(babyCarriedLoop,e,t,15,2,this.dir):diStringLoop(babyWalkLoop,e,t,15,2,this.dir),ctx.translate(0,10)}class movingObject{constructor(e,t,a,i,n,s,c){this.sX=0,this.x=e,this.y=t,this.w=a,this.h=i,this.jumping=!1,this.fallSpeed=0,this.di=n,this.updateMotion=s,this.cnt=0,this.index=c,this.isCarried=!1,this.dir=1,this.init={x:e,y:t},this.flying=0===t}update(){this.onScreen=!1,inBox(cW/2-(pl.x-this.x),this.y-yShift,0,0,cW,cH)&&(this.onScreen=!0),this.newPos(),this.updateMotion(),this.di()}newPos(){this.knb&&this.calculateKnockBack(),this.x=constrain(this.x+this.sX,0,levelRange),this.jumping?this.calculateJump():this.flying||this.isCarried||this.calculateFall()}startJump(e){!this.jumping&&distToGround(this.x+this.w/2,this.y,this.w)<2&&("pl"===this.index?jumpSFX(.5,1,.35):this.onScreen&&jumpSFX(.8,1.2,.1),this.jumping=!0,this.jF=20)}forceJump(e){jumpSFX(.8,1.2,.1),this.jumping=!0,this.jF=e}calculateJump(){this.jF-=2,this.y-=this.jF,this.jF<=0&&(this.jumping=!1)}calculateFall(){let e=distToGround(this.x+this.w/2,this.y,this.w);e>this.fallSpeed||!1===this.gble&&this.y<cH&&Math.random()>.5&&1!=this.returned?(this.y+=this.fallSpeed,this.fallSpeed+=1,this.falling=!0):e>0&&(!0===this.falling&&this.fallSpeed>1&&this.onScreen&&thumpSFX(),this.falling=!1,this.fallSpeed=0,this.y+=e-1)}calculateKnockBack(){let e=Math.floor(this.sX);e>0?this.sX--:e<0?this.sX++:this.knb=!1}collided(e){this.knb=!0,this.sX=10*e,this.jF=0,this.flying=!1}moveInBounds(e){this.x<=this.lbX?this.sX=e:this.x>=this.rbX?this.sX=-e:0===this.sX&&(Math.random()>.5?this.sX=1:this.sX=-1)}}function dDB(){ctx=canvas.context;let e=cW/2,t=-this.h;ctx.translate(0,t);let a=.5*cH;yShift=this.y>a?0:this.y-a,0!=this.sX&&(this.dir=-this.sX/Math.abs(this.sX)),this.slp?diStringLoop(sleepLoop,e,this.y-yShift,25,6,this.dir):distToGround(this.x+this.w/2,this.y,this.w)>2?diStringLoop(jL,e,this.y-yShift,25,3,this.dir):0===this.sX?diStringLoop(sL,e,this.y-yShift,25,3,this.dir):diStringLoop(walkLoop,e,this.y-yShift,25,3,this.dir),ctx.translate(0,-t)}function uPM(){this.knb||this.slp?this.slp&&(this.sX=0):(inputLeft||inputRight?inputRight?pl.sX+=.5:inputLeft&&(pl.sX-=.5):pl.sX+stopSpeed<0?pl.sX+=stopSpeed:pl.sX-stopSpeed>0?pl.sX-=stopSpeed:pl.sX=0,pl.sX=constrain(pl.sX,-10,10))}function moveX(e){e>0?inputRight=!0:inputLeft=!0}function nB(e,t,a,i){bd.push(new movingObject(e,t,i.w,i.h,i.d,i.u,bd.length));let n=bd.length-1,s=bd[n];s.lbX=s.x-a,s.rbX=s.x+a,s.stunTimer,s.stunned=!1}function cPC(e){let t=bd[e],a=pl;if(collideRectRect(cW/2-(a.x-t.x),t.y-yShift-t.h,t.w,t.h,cW/2,a.y-yShift-a.h,a.w,a.h)&&!a.knb){tP(a.x+a.w/2,a.y+a.h/2,[{r:255,g:125,b:125}]),collideSFX();let i=!1,n=0,s=!1,c=.8;if(t.y-20>a.y&&distToGround(a.x+a.w/2,a.y,a.w)>5){s=!0,c=1.5,t.stunned=!0;let a=e;clearTimeout(t.stunTimer),t.stunTimer=setTimeout(function(){bd[a].stunned=!1},1e3)}for(let e=0;e<bab.length;e++)!bab[e].isCarried||i||s||(bab[e].isCarried=!1,i=!0,n=e,a.babCarried--,bab[n].gble=!1);i&&setTimeout(function(){bab[n].gble=!0},500);let o=15;t.x<a.x?sendEmFlying(e,c,o,s,i,n,-1):sendEmFlying(e,c,o,s,i,n,1)}}function sendEmFlying(e,t,a,i,n,s,c){bd[e].collided(c*t),i?pl.forceJump(a):pl.collided(-1),n&&bab[s].collided(3*c)}function diFlyingBaddie(){let e=-this.h;ctx.translate(0,e);let t=posOnScreen(this);0!=this.sX&&(this.dir=-this.sX/Math.abs(this.sX)),this.flying?diStringLoop(bFL,t.x,t.y,20,2,-this.dir):diStringLoop(bSL,t.x,t.y,20,2,this.dir),ctx.translate(0,-e),this.cnt++}function uFB(){cPC(this.index),this.flying?(this.y>this.init.y-50?this.y--:(this.y=constrain(this.y+-1+2*Math.random(),this.init.y-100,cH),this.cnt%450==0&&(this.flying=!1,this.onScreen&&birdChirpSFX())),this.knb||this.moveInBounds(2)):(this.knb||this.moveInBounds(2),this.cnt%150==0&&(this.flying=!0,this.onScreen&&birdChirpSFX()))}function diJumpingBaddie(){let e=-this.h;ctx.translate(0,e);let t=posOnScreen(this);0!=this.sX&&(this.dir=-this.sX/Math.abs(this.sX)),distToGround(this.x+this.w/2,this.y,this.w)>2?diStringLoop(tigerJumpLoop,t.x,t.y-40.5,27,3,this.dir):diStringLoop(tigerWalkLoop,t.x,t.y-40.5,27,3,this.dir),ctx.translate(0,-e),this.cnt++}function updateJumpingBaddie(){cPC(this.index),this.cnt%150==0&&this.startJump(bd[this.index]),this.knb||1==this.stunned||this.moveInBounds(2)}class groundTile{constructor(e,t,a){this.x=e,this.y=t,this.w=a,this.hasCos=!1}di(){if(inRange(this.x,pl.x,cW/2)||inRange(this.x+this.w,pl.x,cW/2)){let e=cW/2-(pl.x-this.x);for(let t=0;t<this.w/20;t++)diImage(groundImg.a,groundImg.c,e+20*t,this.y-yShift-4,5,4,1);if(0!=this.hasCos){let t=trees[this.hasCos.t],a=3;diImage(t.a,t.c,e+this.hasCos.x,this.y-yShift-t.w*a,t.w,a,1)}}}}function continueLevel(){baR>=bab.length&&nextPhase(),timeLeft<=0&&(gameOver=!0,cSc="gameover")}function nextPhase(){if(napping=!0,baR=!0,pl.slp=!0,trace=0,3===++naps){switch(currentText=["the day is over. level complete!","click to continue"],setTimeout(function(){cSc="wakepl"},1e3),sTS(),introSeq=0,++level){case 1:currentLevel=level2;break;case 2:currentLevel=level3}naps=0,setupLevel(currentLevel)}else{switch(currentText=["good job mama ape!","time for a nap."],cSc="wakepl",sTS(),introSeq=0,traceSpeed=10,cuP++,setTimeout(function(){pl.slp=!1,traceSpeed=.1},5e3),phase=JSON.parse(JSON.stringify(currentLevel)),level){case 0:1===cuP?phase.bd.push({p:25,x:30,r:300,kit:fBaddie}):2===cuP&&(phase.bd.push({p:25,x:30,r:300,kit:fBaddie}),phase.bd.push({p:15,x:250,r:245,kit:fBaddie}))}setupLevel(phase)}}let jBaddie={t:"jump",w:81,h:40.5},fBaddie={t:"fly",w:40,h:40},level2={size:1300,platforms:[{x:300,y:750,w:300},{x:650,y:670,w:50},{x:450,y:600,w:100},{x:380,y:580,w:50},{x:300,y:520,w:100},{x:380,y:460,w:80},{x:800,y:600,w:100},{x:920,y:580,w:50},{x:1e3,y:520,w:100},{x:920,y:460,w:80},{x:320,y:400,w:730},{x:550,y:350,w:50},{x:750,y:350,w:50},{x:650,y:280,w:50},{x:400,y:250,w:80},{x:320,y:180,w:50},{x:380,y:120,w:50},{x:320,y:60,w:50},{x:880,y:250,w:80},{x:950,y:180,w:50},{x:890,y:120,w:50},{x:950,y:60,w:50}],bd:[{p:10,x:365,r:325,kit:jBaddie},{p:10,x:480,r:245,kit:fBaddie},{p:16,x:30,r:300,kit:fBaddie},{p:-1,x:500,r:450,kit:jBaddie},{p:2,x:10,r:40,kit:jBaddie},{p:6,x:10,r:40,kit:jBaddie}],cosmetics:[],pl:{p:5,x:30},bab:{count:1,pos:[11,12,13,14,15,16,-1],p:0,x:0}},level1={size:2500,platforms:[{x:0,y:50,w:50},{x:0,y:100,w:50},{x:0,y:150,w:150},{x:300,y:80,w:100},{x:400,y:140,w:100},{x:500,y:200,w:250},{x:900,y:80,w:100},{x:1e3,y:140,w:100},{x:900,y:210,w:100},{x:1e3,y:280,w:100},{x:1100,y:350,w:250},{x:1500,y:70,w:100},{x:1600,y:140,w:100},{x:1700,y:200,w:250},{x:1950,y:270,w:250},{x:1900,y:350,w:50},{x:1850,y:420,w:50},{x:1800,y:490,w:50},{x:1700,y:560,w:100},{x:2200,y:350,w:50},{x:2250,y:420,w:50},{x:2300,y:490,w:50},{x:2350,y:490,w:100}],bd:[{p:3,x:30,r:100,kit:fBaddie},{p:7,x:30,r:100,kit:fBaddie},{p:11,x:30,r:100,kit:fBaddie},{p:5,x:80,r:70,kit:jBaddie},{p:10,x:80,r:70,kit:jBaddie},{p:13,x:80,r:70,kit:jBaddie},{p:14,x:80,r:70,kit:jBaddie},{p:-1,x:500,r:200,kit:jBaddie},{p:-1,x:1e3,r:200,kit:jBaddie},{p:-1,x:1500,r:200,kit:jBaddie},{p:-1,x:2e3,r:200,kit:jBaddie},{p:-1,x:1e3,r:800,kit:fBaddie}],cosmetics:[],pl:{p:2,x:10},bab:{count:3,pos:[5,10,13,14,18,22],p:0,x:0}},level3={size:800,platforms:[{x:0,y:0,w:100},{x:200,y:0,w:100},{x:-100,y:0,w:100},{x:450,y:0,w:100},{x:600,y:0,w:100},{x:0,y:500,w:200},{x:220,y:450,w:80},{x:300,y:400,w:80},{x:380,y:350,w:80},{x:460,y:300,w:80},{x:400,y:250,w:100},{x:350,y:200,w:100},{x:450,y:200,w:100},{x:250,y:150,w:50},{x:300,y:130,w:50},{x:250,y:100,w:100},{x:200,y:50,w:50}],bd:[{p:5,x:30,r:40,kit:jBaddie},{p:8,x:20,r:40,kit:fBaddie},{p:8,x:100,r:45,kit:fBaddie}],cosmetics:[{p:7,x:10},{p:9,x:-5},{p:0,x:0},{p:1,x:0},{p:2,x:0},{p:3,x:0},{p:4,x:0}],pl:{p:6,x:0},bab:{count:2,pos:[11,12,13,14,15,16,-1],p:0,x:0}};function setupLevel(e){levelRange=e.size,ground=[],bd=[],bab=[],cuP=0;for(let t=0;t<e.platforms.length;t++)ground.push(new groundTile(e.platforms[t].x,cH-e.platforms[t].y,e.platforms[t].w));for(let t=0;t<e.bd.length;t++){let a=getXYOnPlat(e.bd[t],e.platforms),i=e.bd[t].kit;switch(i.t){case"jump":i.d=diJumpingBaddie,i.u=updateJumpingBaddie;break;case"fly":i.d=diFlyingBaddie,i.u=uFB}nB(a.x,a.y,e.bd[t].r,e.bd[t].kit)}for(let t=0;t<e.size/150;t++){let e=Math.floor(3*Math.random());ground.push(new groundTile(150*t+10*(-1+e),cH,10)),ground[ground.length-1].hasCos={x:0,t:e}}let t=getXYOnPlat(e.pl,e.platforms);(pl=new movingObject(t.x,t.y,75,75,dDB,uPM,"pl")).slp=!0,pl.babCarried=0,startPos={x:t.x,y:t.y,w:80,h:80},baR=0;for(let t=0;t<e.bab.count;t++){e.bab.p=e.bab.pos[Math.floor(Math.random()*e.bab.pos.length)];let t=getXYOnPlat(e.bab,e.platforms);newBaby(t.x,t.y)}}let sunShades=[{r:133,g:186,b:214,t:0},{r:17,g:128,b:214,t:.6},{r:101,g:155,b:184,t:.7},{r:236,g:236,b:29,t:.8},{r:255,g:59,b:59,t:.9},{r:51,g:70,b:95,t:.96},{r:51,g:70,b:95,t:1}];function fadeSunLight(){let e,t,a,i=frame/sdf,n=sunShades;for(let s=0;s<n.length;s++)if(i<n[s].t){let i=(frame-n[s-1].t*sdf)/((n[s].t-n[s-1].t)*sdf);return{r:e=n[s-1].r+i*(n[s].r-n[s-1].r),g:t=n[s-1].g+i*(n[s].g-n[s-1].g),b:a=n[s-1].b+i*(n[s].b-n[s-1].b)}}}function diBackground(){let e=fadeSunLight();bgI.c[0]="rgb("+e.r+","+e.g+","+e.b+")",diImage(bgI.a,bgI.c,-pl.x/4,-.4*cH-yShift/2,bgI.w,2*cW/bgI.w,1)}function diGround(){pl.x,this.x;for(let e=0;e<cW/20;e++)diImage(groundImg.a,groundImg.c,20*e-pl.x%20,cH-yShift-4,5,4,1)}
</script><style>canvas{ border:1px solid #d3d3d3; background-color: #f1f1f1;}</style></head>
<body onload="preload()" onkeypress="keyPressed()" onkeyup="keyReleased()" onclick="mousePressed()">
</body></html>
